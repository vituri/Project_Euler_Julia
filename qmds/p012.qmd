# Problem 12 {.unnumbered}

::: {.callout-note icon=false}
## Problem

<p>The sequence of triangle numbers is generated by adding the natural numbers. So the $7$<sup>th</sup> triangle number would be $1 + 2 + 3 + 4 + 5 + 6 + 7 = 28$. The first ten terms would be:
1, 3, 6, 10, 15, 21, 28, 36, 45, 55, \dots$$</p>
<p>We can see that $28$ is the first triangle number to have over five divisors.</p>
<p>What is the value of the first triangle number to have over five hundred divisors?</p>

:::

### Julia

```{julia}
divides(d::Integer, n::Integer) = n % d == 0

triangle(n::Integer) = sum(1:n)
```

```{julia}
function prime_factors(n::Integer)
    divs = [1]
    temp_n = n

    while temp_n > 1
        for d âˆˆ 2:temp_n
            if divides(d, temp_n) #|| d > isqrt(temp_n)
                temp_n = div(temp_n, d)
                push!(divs, d)
                break
            end

            if d > isqrt(temp_n)
                push!(divs, temp_n)
                temp_n = 1
                break
            end

        end
    end

    return divs
end
```

```{julia}
n = 132
divs = prime_factors(n)


```

```{julia}
n = 10
triangle(1002341)
divs = divisors(11111111111111111)

"$n has divisors $divs"
```

```{julia}
function p12(amount_divisors::Int64 = 500)
    n = 1
    while true 
        global divs = prime_factors(triangle(n))

        if length(divs) >= amount_divisors
            break
        end

        n += 1
    end

    return "$n has $(length(divs)) divisors: $divs"
end
```

```{julia}
p12()

using BenchmarkTools;
@benchmark p12()
```